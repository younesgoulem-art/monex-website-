<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÿ®ÿ∑ÿßŸÇÿ© VIP - MONEX</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#000;
      overflow:hidden;
      font-family:'Cairo', sans-serif;
      position: relative;
    }
    body::before{
      content:"";
      position:fixed; /* ‚Üê ÿ´ÿßÿ®ÿ™ÿ© ÿ®ÿØŸÑ absolute */
      top:0; left:0;  /* ‚Üê ÿ™ÿ®ÿØÿ£ ŸÖŸÜ ÿßŸÑÿ≤ÿßŸàŸäÿ© ÿßŸÑÿπŸÑŸäÿß */
      width:200%;
      height:200%;
      background:radial-gradient(2px 2px at 20% 30%,#fff,transparent),
                 radial-gradient(1.5px 1.5px at 70% 80%,#fff,transparent),
                 radial-gradient(2px 2px at 90% 50%,#fff,transparent),
                 radial-gradient(1.5px 1.5px at 40% 70%,#fff,transparent);
      animation:stars 40s linear infinite;
      opacity:0.4;
      pointer-events:none;
    }
    @keyframes stars{from{transform:translateY(0);}to{transform:translateY(-100px);}}


    .card{
      width:460px;
      border-radius:24px;
      padding:30px;
      color:#fff;
      position:relative;
      overflow:hidden;
      background:rgba(15,15,15,0.85);
      backdrop-filter:blur(6px);
      box-shadow:0 20px 60px rgba(0,0,0,0.9);
      z-index:2;
    }
    .card::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:24px;
      padding:2px;
      background:linear-gradient(120deg,#d4ab3d,#fff4c2,#d4ab3d);
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;
              mask-composite:exclude;
      animation:borderGlow 6s linear infinite;
      pointer-events:none;
    }
    @keyframes borderGlow{0%{filter:hue-rotate(0deg);}100%{filter:hue-rotate(360deg);}}


    .top{display:flex;align-items:center;gap:16px;margin-bottom:12px;position:relative;z-index:3;}
    .avatar{width:80px;height:80px;border-radius:50%;overflow:hidden;border:3px solid #d4ab3d;flex-shrink:0;box-shadow:0 0 25px rgba(212,171,61,0.95);}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .logo h1{margin:0;color:#f0c96a;font-size:30px;letter-spacing:2px;text-shadow:0 0 12px rgba(240,201,106,0.8);}
    .logo p{margin:0;font-size:14px;color:#ccc;letter-spacing:1px}

    .logout-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: #d4ab3d;
      color: #000;
      border: none;
      border-radius: 20px;
      padding: 8px 16px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(212,171,61,0.8);
      transition: all 0.3s ease;
      z-index: 4;
    }
    .logout-btn:hover {
      background: #f0c96a;
      box-shadow: 0 0 15px rgba(240,201,106,1);
    }

    .name{font-size:28px;font-weight:bold;margin:14px 0 6px;color:#fff;z-index:3;position:relative}
    .id{font-size:16px;color:#bbb;margin-bottom:18px;z-index:3;position:relative}
    .vip{font-size:52px;font-weight:bold;
      background:linear-gradient(90deg,#d4ab3d,#fff4c2,#d4ab3d);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-size:200% auto;
      animation:shineText 3s linear infinite;
      margin-bottom:22px;
      text-shadow:0 0 15px rgba(240,201,106,0.9);
      z-index:3;position:relative;
      display:flex;align-items:center;gap:12px;}
    .vip::before{content:"üëë";font-size:36px;color:#f0c96a;filter:drop-shadow(0 0 6px rgba(240,201,106,0.8));}
    @keyframes shineText{to{background-position:200% center}}

    .progress-wrap{display:flex;align-items:center;gap:12px;margin-bottom:24px;z-index:3;position:relative}
    .bar{flex:1;height:18px;background:#333;border-radius:10px;overflow:hidden;box-shadow:inset 0 0 8px #000}
    .fill{height:100%;width:0;background:linear-gradient(90deg,#d4ab3d,#f0c96a);animation:loadBar 2s forwards;box-shadow:0 0 10px rgba(240,201,106,0.6);}
    @keyframes loadBar{to{width:70%}}
    .pct{font-size:16px;color:#f0c96a;font-weight:bold;text-shadow:0 0 6px rgba(240,201,106,0.7)}
    .bottom{display:flex;gap:16px;align-items:center;margin-bottom:26px;z-index:3;position:relative;}
    .qr{width:125px;height:125px;background:#fff;border-radius:14px;overflow:hidden;flex-shrink:0;box-shadow:0 0 15px rgba(212,171,61,0.8);}
    .qr img{width:100%;height:100%;object-fit:cover}
    .dates{flex:1;color:#ddd;font-size:16px;display:flex;flex-direction:column;gap:12px}
    .slogan{text-align:center;color:#f0c96a;font-size:22px;font-weight:bold;text-shadow:0 0 14px rgba(240,201,106,0.9);z-index:3;position:relative;}
  </style>
</head>
<body>
  <button class="logout-btn" id="logoutBtn">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨</button>

  <div class="card">
    <div class="top">
      <div class="avatar"><img src="profile.jpg" alt="avatar"></div>
      <div class="logo">
        <h1>MONEX</h1>
        <p>TRADING ACADEMY</p>
      </div>
    </div>

    <div class="name" id="userName">ÿ¨ÿßÿ± ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...</div>
    <div class="id" id="userId">#...</div>

    <div class="vip">VIP</div>

    <div class="progress-wrap">
      <div class="bar"><div class="fill"></div></div>
      <div class="pct">70%</div>
    </div>

    <div class="bottom">
      <div class="qr"><img src="qr.png" alt="qr"></div>
      <div class="dates">
        <div id="startDate">...</div>
        <div id="endDate">...</div>
      </div>
    </div>

    <div class="slogan">Knowledge is Power</div>
  </div>

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCoyCAdEmG9nSWmYhDTYtzkarNml2LOl5o",
      authDomain: "monex-academ.firebaseapp.com",
      projectId: "monex-academ",
      storageBucket: "monex-academ.firebasestorage.app",
      messagingSenderId: "739982923559",
      appId: "1:739982923559:web:47ebe50822acba14d3fb02"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        const userRef = doc(db, "users", user.uid);
        const userSnap = await getDoc(userRef);

        if (userSnap.exists()) {
          const data = userSnap.data();
          document.getElementById("userName").textContent = data.Name || "ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ";
          document.getElementById("startDate").textContent = data.Startdate || "N/A";
          document.getElementById("endDate").textContent = data.Enddate || "N/A";
          document.getElementById("userId").textContent = "#" + user.uid.slice(0, 8);
        } else {
          document.getElementById("userName").textContent = "ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ";
        }
      } else {
        window.location.href = "login.html";
      }
    });

    // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨
    document.getElementById("logoutBtn").addEventListener("click", async () => {
      await signOut(auth);
      window.location.href = "login.html";
    });
  </script>
</body>
</html>

